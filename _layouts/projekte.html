<!DOCTYPE html>
<html lang="en">

{% include head.html %}

<body id="page-top">

  {% include navigation.html %}

  {% include subnavigation.html %}

  {% if page.url contains "/projekte" %}{% assign sortedProjects = site.projekte | sort: 'priorityAllProjects' | reverse %}{% endif %}
  {% if page.url contains "/stahlbetonbau" %}{% assign sortedProjects = site.projekte | where: 'Kategorie', 'Stahlbetonbau' | sort: 'priorityCategory' | reverse %}{% endif %}
  {% if page.url contains "/efh" %}{% assign sortedProjects = site.projekte | where: 'Kategorie', 'efh' | sort: 'priorityCategory' | reverse %}{% endif %}
  {% if page.url contains "/altbau" %}{% assign sortedProjects = site.projekte | where: 'Kategorie', 'altbau' | sort: 'priorityCategory' | reverse %}{% endif %}
  {% if page.url contains "/stahlholzbau" %}{% assign sortedProjects = site.projekte | where: 'Kategorie', 'Stahlholzbau' | sort: 'priorityCategory' | reverse %}{% endif %}

  {% assign totalNrProjects = sortedProjects | size %}

  {% assign helper = totalNrProjects | plus: 7%}
  {% assign NrForLoops = helper | divided_by: 7%}
  {% assign NrForLoopsPlusOne = NrForLoops | plus: 1 %}





  <div class="projekte-container-fluid">
    <div class="projekte-container">

      {% comment %}
      <!-- <div class="projekte-row-1">
        <div class="projekte-element-1">
          <br>
          <br>
          Sortierte Projekte, wobei die höchste Priorität zuerst kommt<br>
          <br>
          <br>

          Gesamtanzahl der Projekte: {{ totalNrProjects}}<br>
          Gesamtanzahl an loops: {{ NrForLoops }} <br>

          <br>



          {% for projekt in sortedProjects %}
            {{ projekt.title }}, Priorität: {{ projekt.priorityAllProjects}}<br>
          {% endfor %}

          <br>
        </div>
      </div>

      <div class="projekte-spacer-horizontal-mobile"></div>
      <div class="projekte-spacer-horizontal"></div>
      -->
      {% endcomment %}

      <!-- Main Loop -->
      {% for projekt in sortedProjects %}

        {% if forloop.index0 == NrForLoops %}
          {% break %}
        {% endif %}

        {% assign numHelper = forloop.index0 | times: 7 %}

        {% assign num1 = numHelper | plus: 0 %}
        {% assign num2 = numHelper | plus: 1 %}
        {% assign num3 = numHelper | plus: 2 %}
        {% assign num4 = numHelper | plus: 3 %}
        {% assign num5 = numHelper | plus: 4 %}
        {% assign num6 = numHelper | plus: 5 %}
        {% assign num7 = numHelper | plus: 6 %}


      <div class="projekte-row-1">

        <div class="projekte-spacer-horizontal-mobile"></div>


        <div class="projekte-element-1">

          {% if sortedProjects[num1].imgMain %}

              {% assign urlSize1 = sortedProjects[num1].path | size | minus: 4 %}
              {% assign projectUrl1 = sortedProjects[num1].path | slice: 1, urlSize1 %}
              <img src="{{base.url}}/img/{{ projectUrl1 }}/main.jpg">
              <div class="projekte-img-description">
                  {{ sortedProjects[num1].titleMain }}
              </div>
              {% else %}
                <div class="projekte-img-description-big">
                  {{ sortedProjects[num1].titleMain }}
                </div>
          {% endif %}


        </div>

        <div class="projekte-spacer-horizontal-mobile"></div>
        <div class="projekte-spacer-vertical"></div>

        {% if sortedProjects[num2] %}
        <div class="projekte-element-2">

          {% if sortedProjects[num2].imgMain %}

              {% assign urlSize2 = sortedProjects[num2].path | size | minus: 4 %}
              {% assign projectUrl2 = sortedProjects[num2].path | slice: 1, urlSize2 %}
              <img src="{{base.url}}/img/{{ projectUrl2 }}/main.jpg">
              <div class="projekte-img-description">
                  {{ sortedProjects[num2].titleMain }}
              </div>
              {% else %}
                <div class="projekte-img-description-big">
                  {{ sortedProjects[num2].titleMain }}
                </div>
          {% endif %}
        </div>
      </div>
      {% else %}<div class="projekte-element-2-placeholder"></div></div>{% break %}{% endif %}



      <div class="projekte-spacer-horizontal"></div>
      <div class="projekte-spacer-horizontal-mobile"></div>

      {% if sortedProjects[num3] %}
      <div class="projekte-row-2">
      {% else %}{% break %}{% endif %}
        <div class="projekte-element-3">
          {% if sortedProjects[num3].imgMain %}

              {% assign urlSize3 = sortedProjects[num3].path | size | minus: 4 %}
              {% assign projectUrl3 = sortedProjects[num3].path | slice: 1, urlSize3 %}
              <img src="{{base.url}}/img/{{ projectUrl3 }}/main.jpg">
              <div class="projekte-img-description">
                  {{ sortedProjects[num3].titleMain }}
              </div>
              {% else %}
                <div class="projekte-img-description-big">
                  {{ sortedProjects[num3].titleMain }}
                </div>
          {% endif %}
        </div>

        <div class="projekte-spacer-horizontal-mobile"></div>
        <div class="projekte-spacer-vertical">

        </div>

        {% if sortedProjects[num4] %}
        <div class="projekte-element-4">
          {% else %}<div class="projekte-element-4-placeholder"></div></div>{% break %}{% endif %}

          {% if sortedProjects[num4].imgMain %}

              {% assign urlSize4 = sortedProjects[num4].path | size | minus: 4 %}
              {% assign projectUrl4 = sortedProjects[num4].path | slice: 1, urlSize4 %}
              <img src="{{base.url}}/img/{{ projectUrl4 }}/main.jpg">
              <div class="projekte-img-description">
                  {{ sortedProjects[num4].titleMain }}
              </div>
              {% else %}
                <div class="projekte-img-description-big">
                  {{ sortedProjects[num4].titleMain }}
                </div>
          {% endif %}

        </div>
        <div class="projekte-spacer-horizontal-mobile"></div>
      </div>

      <div class="projekte-spacer-horizontal"></div>

      {% if sortedProjects[num5] %}
      <div class="projekte-row-3">
      {% else %}{% break %}{% endif %}

        <div class="projekte-element-5">

          {% if sortedProjects[num5].imgMain %}

              {% assign urlSize5 = sortedProjects[num5].path | size | minus: 4 %}
              {% assign projectUrl5 = sortedProjects[num5].path | slice: 1, urlSize5 %}
              <img src="{{base.url}}/img/{{ projectUrl5 }}/main.jpg">
              <div class="projekte-img-description">
                  {{ sortedProjects[num5].titleMain }}
              </div>
              {% else %}
                <div class="projekte-img-description-big">
                  {{ sortedProjects[num5].titleMain }}
                </div>
          {% endif %}

        </div>

        <div class="projekte-spacer-horizontal-mobile"></div>
        <div class="projekte-spacer-vertical"></div>

        {% if sortedProjects[num6] %}
        <div class="projekte-element-6">
        {% else %}<div class="projekte-element-6-placeholder"></div><div class="projekte-element-7-placeholder"></div></div>{% break %}{% endif %}

          {% if sortedProjects[num6].imgMain %}

              {% assign urlSize6 = sortedProjects[num6].path | size | minus: 4 %}
              {% assign projectUrl6 = sortedProjects[num6].path | slice: 1, urlSize6 %}
              <img src="{{base.url}}/img/{{ projectUrl6 }}/main.jpg">
              <div class="projekte-img-description">
                  {{ sortedProjects[num6].titleMain }}
              </div>
              {% else %}
                <div class="projekte-img-description-big">
                  {{ sortedProjects[num6].titleMain }}
                </div>
          {% endif %}

        </div>

        <div class="projekte-spacer-horizontal-mobile"></div>
        <div class="projekte-spacer-vertical"></div>


        {% if sortedProjects[num7] %}
        <div class="projekte-element-7">
        {% else %}<div class="projekte-element-7-placeholder"></div></div>{% break %}{% endif %}

          {% if sortedProjects[num7].imgMain %}

              {% assign urlSize7 = sortedProjects[num7].path | size | minus: 4 %}
              {% assign projectUrl7 = sortedProjects[num7].path | slice: 1, urlSize7 %}
              <img src="{{base.url}}/img/{{ projectUrl7 }}/main.jpg">
              <div class="projekte-img-description">
                  {{ sortedProjects[num7].titleMain }}
              </div>
              {% else %}
                <div class="projekte-img-description-big">
                  {{ sortedProjects[num7].titleMain }}
                </div>
          {% endif %}
        </div>

        <div class="projekte-spacer-horizontal-mobile"></div>

      </div>

      <div class="projekte-spacer-horizontal"></div>

      {% endfor %}

    </div>
  </div>

  {% include scripts.html %}

</body>

</html>
